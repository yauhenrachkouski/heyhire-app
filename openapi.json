{"openapi":"3.1.0","info":{"title":"HeyHire Backend","version":"0.1.0"},"paths":{"/api/v1/jobs/parse":{"post":{"tags":["parsing"],"summary":"Parse Job","description":"Parse a raw job description into a structured JSON format.","operationId":"parse_job_api_v1_jobs_parse_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobParsingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobParsingResponse-Output"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sourcing/strategy":{"post":{"tags":["sourcing"],"summary":"Generate Strategy","description":"⚠️ DEPRECATED: Use POST /api/v2/strategies/generate instead.\n\nGenerates search strategy based on input text.\nThe input 'raw_text' can be either a plain job description or a JSON string of a parsed job.","operationId":"generate_strategy_api_v1_sourcing_strategy_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobParsingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SourcingStrategyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true}},"/api/v1/sourcing/execute":{"post":{"tags":["sourcing"],"summary":"Execute Search","description":"⚠️ DEPRECATED: Use POST /api/v2/strategies/execute instead.\n\nExecutes search on Harvest API using the provided payload.\nSupports pagination via 'startPage' in the payload.","operationId":"execute_search_api_v1_sourcing_execute_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApifyPayload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Execute Search Api V1 Sourcing Execute Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true}},"/api/v1/candidates/score":{"post":{"tags":["scoring"],"summary":"Score Candidate","description":"Score a single candidate against a job description.","operationId":"score_candidate_api_v1_candidates_score_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScoringRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScoringResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/jobs/parse":{"post":{"tags":["parsing"],"summary":"Parse Job V2","description":"Parse a message (JD, feedback, or context) into sourcing criteria (V2).\n\nInput: Simple message string + optional project_id.\nThe AI will extract or refine criteria based on the message content.","operationId":"parse_job_v2_api_v2_jobs_parse_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobParsingRequestV2"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobParsingResponseV2"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/strategies/generate":{"post":{"tags":["strategies"],"summary":"Generate Strategies","description":"Generate sourcing strategies (Wide, Core, Quality, Donor) based on parsed criteria.\n\nInput:\n- raw_text: Original JD + additional comments\n- parsed_with_criteria: Final criteria with importance marks from frontend\n- request_id: Cross-cutting ID for tracing\n\nUses SGR (Schema-Guided Reasoning) to ensure logical and valid search queries.","operationId":"generate_strategies_api_v2_strategies_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyGenerationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyGenerationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/strategies/execute":{"post":{"tags":["strategies"],"summary":"Execute Strategies","description":"Execute sourcing strategies asynchronously.\nReturns a task_id to poll for results.","operationId":"execute_strategies_api_v2_strategies_execute_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyExecutionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyExecutionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/strategies/results/{task_id}":{"get":{"tags":["strategies"],"summary":"Get Results","description":"Poll for execution results.","operationId":"get_results_api_v2_strategies_results__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/candidates/score":{"post":{"tags":["scoring"],"summary":"Score Candidate","description":"Score a single candidate against job requirements.\n\nUses importance penalty logic:\n- imp: \"high\" missing = -15 to -20 points\n- imp: null/medium missing = -5 to -10 points  \n- imp: \"low\" missing = -1 to -3 points\n\nReturns detailed reasoning and final score (0-100).","operationId":"score_candidate_api_v2_candidates_score_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScoringRequestV2"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScoringResponseV2"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/candidates/score/batch":{"post":{"tags":["scoring"],"summary":"Score Candidates Batch","description":"Score multiple candidates in parallel.\n\nUseful after execution phase to quickly evaluate all found candidates.","operationId":"score_candidates_batch_api_v2_candidates_score_batch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchScoringRequestV2"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchScoringResponseV2"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/analytics/calculate":{"post":{"tags":["analytics"],"summary":"Calculate Analytics","description":"Calculate analytics for a sourcing project.\n\nAnalyzes candidates across all strategies and provides:\n- Per-strategy yield, avg_score, cost efficiency\n- Strategy ranking by effectiveness\n- Pagination recommendations\n\nInput:\n- project_id: Project identifier\n- candidates_with_scores: List of candidates with scores and source_strategy_ids\n- strategies_metadata: Optional strategy info (id, name, current_page, has_more_pages)","operationId":"calculate_analytics_api_v2_analytics_calculate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalyticsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectAnalytics"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/analytics/paginate":{"post":{"tags":["analytics"],"summary":"Paginate Strategy","description":"Load more candidates by paginating a strategy.\n\nIf target_strategy_id is not provided, automatically selects\nthe best performing strategy that has more pages available.\n\nReturns a task_id to poll for results.","operationId":"paginate_strategy_api_v2_analytics_paginate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/analytics/pagination/{task_id}":{"get":{"tags":["analytics"],"summary":"Get Pagination Results","description":"Poll for pagination task results.","operationId":"get_pagination_results_api_v2_analytics_pagination__task_id__get","parameters":[{"name":"task_id","in":"path","required":true,"schema":{"type":"string","title":"Task Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AnalyticsRequest":{"properties":{"project_id":{"type":"string","title":"Project Id"},"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"},"candidates_with_scores":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Candidates With Scores","description":"List of candidates with their scores for analytics calculation"},"strategies_metadata":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Strategies Metadata","description":"List of strategies with their IDs and names"}},"type":"object","required":["project_id"],"title":"AnalyticsRequest","description":"Request for project analytics."},"ApifyPayload":{"properties":{"profileScraperMode":{"anyOf":[{"type":"string","enum":["Short","Full","Full + email search"]},{"type":"null"}],"title":"Profilescrapermode","description":"Short ($0.1/page), Full ($0.1/page + $0.004/profile), Full + email ($0.1/page + $0.01/profile)","default":"Full"},"searchQuery":{"anyOf":[{"type":"string","maxLength":300},{"type":"null"}],"title":"Searchquery","description":"Fuzzy search with operators: AND, OR, NOT, parentheses, quotes"},"maxItems":{"type":"integer","maximum":2500.0,"title":"Maxitems","description":"Max profiles to scrape (max 2500)","default":5},"locations":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Locations"},"currentCompanies":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Currentcompanies"},"pastCompanies":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Pastcompanies"},"schools":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Schools"},"currentJobTitles":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Currentjobtitles"},"pastJobTitles":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Pastjobtitles"},"firstNames":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Firstnames"},"lastNames":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Lastnames"},"yearsOfExperienceIds":{"anyOf":[{"items":{"type":"string","enum":["1","2","3","4","5"]},"type":"array"},{"type":"null"}],"title":"Yearsofexperienceids"},"yearsAtCurrentCompanyIds":{"anyOf":[{"items":{"type":"string","enum":["1","2","3","4","5"]},"type":"array"},{"type":"null"}],"title":"Yearsatcurrentcompanyids"},"seniorityLevelIds":{"anyOf":[{"items":{"type":"string","enum":["100","110","120","130","200","210","220","300","310","320"]},"type":"array"},{"type":"null"}],"title":"Senioritylevelids"},"functionIds":{"anyOf":[{"items":{"type":"string","enum":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26"]},"type":"array"},{"type":"null"}],"title":"Functionids"},"industryIds":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Industryids"},"profileLanguages":{"anyOf":[{"items":{"type":"string","enum":["Arabic","English","Spanish","Portuguese","Chinese","French","Italian","Russian","German","Dutch","Turkish","Tagalog","Polish","Korean","Japanese","Malay","Norwegian","Danish","Romanian","Swedish","Bahasa Indonesia","Czech"]},"type":"array"},{"type":"null"}],"title":"Profilelanguages"},"recentlyChangedJobs":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Recentlychangedjobs"},"startPage":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Startpage","default":1},"takePages":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Takepages"},"profileDeduplicationMode":{"anyOf":[{"type":"string","enum":["off","insert_ids","insert_profiles","read_only"]},{"type":"null"}],"title":"Profilededuplicationmode","default":"off"},"excludeLocations":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Excludelocations"},"excludeCurrentCompanies":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Excludecurrentcompanies"},"excludePastCompanies":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Excludepastcompanies"},"excludeSchools":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Excludeschools"},"excludeCurrentJobTitles":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Excludecurrentjobtitles"},"excludePastJobTitles":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Excludepastjobtitles"},"excludeIndustryIds":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Excludeindustryids"},"excludeSeniorityLevelIds":{"anyOf":[{"items":{"type":"string","enum":["100","110","120","130","200","210","220","300","310","320"]},"type":"array"},{"type":"null"}],"title":"Excludesenioritylevelids"},"excludeFunctionIds":{"anyOf":[{"items":{"type":"string","enum":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26"]},"type":"array"},{"type":"null"}],"title":"Excludefunctionids"}},"type":"object","title":"ApifyPayload","description":"LinkedIn Sales Navigator API payload via Apify HarvestAPI.\nDocs: https://apify.com/harvestapi/linkedin-profile-search\nSchema: https://github.com/HarvestAPI/apify-linkedin-profile-search/blob/main/.actor/input_schema.json"},"BatchScoringRequestV2":{"properties":{"raw_text":{"type":"string","title":"Raw Text","description":"Original JD text"},"parsed_with_criteria":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"string"}],"title":"Parsed With Criteria","description":"Criteria with importance"},"candidates":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Candidates","description":"List of candidates to score"},"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"}},"type":"object","required":["raw_text","parsed_with_criteria","candidates"],"title":"BatchScoringRequestV2","description":"Request for scoring multiple candidates at once."},"BatchScoringResponseV2":{"properties":{"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"},"total_candidates":{"type":"integer","title":"Total Candidates"},"scores":{"items":{"$ref":"#/components/schemas/ScoringResponseV2"},"type":"array","title":"Scores"},"summary":{"additionalProperties":{"type":"integer"},"type":"object","title":"Summary","description":"Count by verdict: {'Perfect Match': 2, 'Good Match': 5, ...}"}},"type":"object","required":["total_candidates","scores"],"title":"BatchScoringResponseV2","description":"Response for batch scoring."},"CandidateEducation":{"properties":{"school":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"School"},"schoolUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Schoolurl"},"degree":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Degree"},"fieldOfStudy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fieldofstudy"},"startDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Startdate"},"endDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Enddate"}},"type":"object","title":"CandidateEducation","description":"Education from LinkedIn profile."},"CandidateExperience":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"company":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Company"},"companyUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Companyurl"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"startDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Startdate"},"endDate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Enddate"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"isCurrent":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Iscurrent"}},"type":"object","title":"CandidateExperience","description":"Work experience from LinkedIn profile."},"CandidateLocation":{"properties":{"city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"City"},"country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"},"linkedinText":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Linkedintext"}},"type":"object","title":"CandidateLocation","description":"Location info from LinkedIn profile."},"CandidateProfile":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"publicIdentifier":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Publicidentifier"},"linkedinUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Linkedinurl"},"fullName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fullname"},"firstName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Firstname"},"lastName":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lastname"},"headline":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Headline"},"position":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Position"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"location":{"anyOf":[{"$ref":"#/components/schemas/CandidateLocation"},{"type":"null"}]},"location_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Text"},"experiences":{"anyOf":[{"items":{"$ref":"#/components/schemas/CandidateExperience"},"type":"array"},{"type":"null"}],"title":"Experiences"},"educations":{"anyOf":[{"items":{"$ref":"#/components/schemas/CandidateEducation"},"type":"array"},{"type":"null"}],"title":"Educations"},"skills":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Skills"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"raw_data":{"additionalProperties":true,"type":"object","title":"Raw Data"},"source_strategy_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Source Strategy Ids"},"project_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Id"},"score":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Score"}},"type":"object","title":"CandidateProfile","description":"Full representation of a candidate profile from Apify HarvestAPI.\nBased on: https://apify.com/harvestapi/linkedin-profile-search"},"Company":{"properties":{"name_raw":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Raw"},"name_normalized":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Normalized"},"type":{"anyOf":[{"type":"string","enum":["employer","agency"]},{"type":"null"}],"title":"Type"},"is_name_public":{"type":"boolean","title":"Is Name Public","default":false},"is_internal_recruiting_allowed":{"type":"boolean","title":"Is Internal Recruiting Allowed","default":false},"website_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Website Url"},"linkedin_slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Linkedin Slug"},"linkedin_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Linkedin Id"},"industry_raw":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Industry Raw"},"industry_normalized":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Industry Normalized"},"size_bucket":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Size Bucket"},"stage":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stage"},"growth_phase":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Growth Phase"},"product_user_scale_bucket":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Product User Scale Bucket"},"headquarters_location_raw":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Headquarters Location Raw"}},"type":"object","title":"Company"},"Compensation":{"properties":{"salary_from":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Salary From"},"salary_to":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Salary To"},"currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency"},"period":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Period"},"is_salary_exact":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Salary Exact"},"extra_compensation_note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extra Compensation Note"},"pay_transparency_note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pay Transparency Note"}},"type":"object","title":"Compensation"},"CriteriaValue":{"properties":{"val":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"number"},{"type":"null"}],"title":"Val","description":"Value of the criteria"},"imp":{"anyOf":[{"type":"string","enum":["high","low"]},{"type":"null"}],"title":"Imp","description":"Importance: 'high' for MUST, 'low' for NICE. If null, implies MEDIUM."}},"type":"object","title":"CriteriaValue"},"CriterionScore":{"properties":{"criterion":{"type":"string","title":"Criterion","description":"Name of the criterion being evaluated"},"importance":{"anyOf":[{"type":"string","enum":["high","medium","low"]},{"type":"null"}],"title":"Importance","description":"User-set importance level (null = medium)","default":"medium"},"found":{"type":"boolean","title":"Found","description":"Whether criterion was found in candidate profile"},"evidence":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Evidence","description":"Evidence from profile supporting the score"},"penalty":{"type":"integer","title":"Penalty","description":"Penalty applied (negative number)","default":0},"reasoning":{"type":"string","title":"Reasoning","description":"Explanation of the score"}},"type":"object","required":["criterion","found","reasoning"],"title":"CriterionScore","description":"Score for individual criterion."},"EducationRequirement":{"properties":{"min_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Min Level"},"fields":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Fields"},"importance":{"anyOf":[{"type":"string","enum":["MUST","NICE"]},{"type":"null"}],"title":"Importance"}},"type":"object","title":"EducationRequirement"},"ExperienceRequirement":{"properties":{"min_years":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min Years"},"importance":{"anyOf":[{"type":"string","enum":["MUST","NICE"]},{"type":"null"}],"title":"Importance"}},"type":"object","title":"ExperienceRequirement"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HiringStep":{"properties":{"order":{"type":"number","title":"Order"},"name":{"type":"string","title":"Name"},"step_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Step Type"},"is_optional":{"type":"boolean","title":"Is Optional"},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"}},"type":"object","required":["order","name","is_optional"],"title":"HiringStep"},"JDQuality":{"properties":{"adequacy_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Adequacy Score"},"verdict":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verdict"},"issues":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Issues"}},"type":"object","title":"JDQuality"},"JobMeta":{"properties":{"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version"},"previous_versions":{"anyOf":[{"items":{"$ref":"#/components/schemas/PreviousVersion"},"type":"array"},{"type":"null"}],"title":"Previous Versions"},"job_title_raw":{"type":"string","title":"Job Title Raw","description":"Original job title from the posting"},"job_title_normalized":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Title Normalized","description":"Normalized job title"},"seniority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Seniority","description":"Seniority level (e.g. junior, mid, senior, lead)"},"employment_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Employment Type","description":"Employment type (e.g. full-time, contract)"},"job_family":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Family","description":"Role family (e.g. software_engineering, data, sales)"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Working language for this role"},"date_posted":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date Posted","description":"Date when the job was posted. Format: YYYY-MM-DD"},"valid_through":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Valid Through","description":"Date until the job is valid. Format: YYYY-MM-DD"}},"type":"object","required":["job_title_raw"],"title":"JobMeta"},"JobParsingRequest":{"properties":{"raw_text":{"type":"string","title":"Raw Text"},"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url"}},"type":"object","required":["raw_text"],"title":"JobParsingRequest"},"JobParsingRequestV2":{"properties":{"message":{"type":"string","title":"Message","description":"JD text, feedback, or any context for the AI"},"project_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Id","description":"Project ID for tracking"}},"type":"object","required":["message"],"title":"JobParsingRequestV2","description":"Simplified input: just a message and optional project_id.\nThe message can contain JD, feedback, context - anything the user wants to send."},"JobParsingResponse-Input":{"properties":{"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id","description":"External request identifier"},"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"Internal job posting ID"},"meta":{"$ref":"#/components/schemas/JobMeta"},"source":{"$ref":"#/components/schemas/JobSource"},"company":{"$ref":"#/components/schemas/Company"},"location":{"$ref":"#/components/schemas/Location"},"compensation":{"$ref":"#/components/schemas/Compensation"},"requirements":{"$ref":"#/components/schemas/Requirements"},"responsibilities":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Responsibilities"},"benefits":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Benefits"},"evp":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Evp"},"hiring_process":{"anyOf":[{"items":{"$ref":"#/components/schemas/HiringStep"},"type":"array"},{"type":"null"}],"title":"Hiring Process"},"raw_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Raw Description","description":"Original raw job description text (injected by backend, not generated by AI)"},"description_translated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description Translated"},"jd_quality":{"$ref":"#/components/schemas/JDQuality"},"parsing_metadata":{"$ref":"#/components/schemas/ParsingMetadata"}},"type":"object","required":["meta","source","company","location","compensation","requirements","jd_quality","parsing_metadata"],"title":"JobParsingResponse"},"JobParsingResponse-Output":{"properties":{"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id","description":"External request identifier"},"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id","description":"Internal job posting ID"},"meta":{"$ref":"#/components/schemas/JobMeta"},"source":{"$ref":"#/components/schemas/JobSource"},"company":{"$ref":"#/components/schemas/Company"},"location":{"$ref":"#/components/schemas/Location"},"compensation":{"$ref":"#/components/schemas/Compensation"},"requirements":{"$ref":"#/components/schemas/Requirements"},"responsibilities":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Responsibilities"},"benefits":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Benefits"},"evp":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Evp"},"hiring_process":{"anyOf":[{"items":{"$ref":"#/components/schemas/HiringStep"},"type":"array"},{"type":"null"}],"title":"Hiring Process"},"raw_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Raw Description","description":"Original raw job description text (injected by backend, not generated by AI)"},"description_translated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description Translated"},"jd_quality":{"$ref":"#/components/schemas/JDQuality"},"parsing_metadata":{"$ref":"#/components/schemas/ParsingMetadata"}},"type":"object","required":["meta","source","company","location","compensation","requirements","jd_quality","parsing_metadata"],"title":"JobParsingResponse"},"JobParsingResponseV2":{"properties":{"project_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project Id","description":"Project ID"},"criteria":{"$ref":"#/components/schemas/SourcingCriteria"}},"type":"object","required":["criteria"],"title":"JobParsingResponseV2"},"JobSource":{"properties":{"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type","description":"Source type (e.g. website form, Linkedin Jobs)"},"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","description":"Original job posting URL"},"collected_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Collected At","description":"When this job was collected. Format: YYYY-MM-DDTHH:MM:SSZ"},"language_hint":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language Hint","description":"Detected original language code"}},"type":"object","title":"JobSource"},"LanguageRequirement":{"properties":{"language":{"type":"string","title":"Language"},"level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Level"},"is_must":{"type":"boolean","title":"Is Must"}},"type":"object","required":["language","is_must"],"title":"LanguageRequirement"},"Location":{"properties":{"work_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Work Mode","description":"Work format (e.g. onsite, hybrid, remote)"},"cities":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Cities"},"countries":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Countries"},"applicant_location_note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Applicant Location Note"},"relocation_offered":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Relocation Offered"},"travel_percentage_min":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Travel Percentage Min"},"travel_percentage_max":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Travel Percentage Max"},"working_time_zone_note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Working Time Zone Note"}},"type":"object","title":"Location"},"PaginateRequest":{"properties":{"project_id":{"type":"string","title":"Project Id"},"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"},"target_strategy_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Target Strategy Id","description":"Specific strategy to paginate. If None, uses best performing."},"page":{"type":"integer","title":"Page","description":"Page number to load","default":2}},"type":"object","required":["project_id"],"title":"PaginateRequest","description":"Request to load more candidates."},"PaginateResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"message":{"type":"string","title":"Message"},"strategy_id":{"type":"string","title":"Strategy Id"},"page":{"type":"integer","title":"Page"},"status":{"type":"string","title":"Status","default":"started"}},"type":"object","required":["task_id","message","strategy_id","page"],"title":"PaginateResponse","description":"Response for pagination request."},"ParsingMetadata":{"properties":{"parser_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parser Version"},"parsed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Parsed At","description":"Timestamp when parsing was completed (injected by backend)"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"ParsingMetadata"},"PreviousVersion":{"properties":{"version":{"type":"string","title":"Version"},"url":{"type":"string","title":"Url"},"generated_at":{"type":"string","format":"date-time","title":"Generated At"}},"type":"object","required":["version","url","generated_at"],"title":"PreviousVersion"},"ProjectAnalytics":{"properties":{"project_id":{"type":"string","title":"Project Id"},"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"},"total_candidates":{"type":"integer","title":"Total Candidates","description":"Total unique candidates across all strategies","default":0},"total_scored":{"type":"integer","title":"Total Scored","description":"How many candidates have been scored","default":0},"total_unscored":{"type":"integer","title":"Total Unscored","description":"Candidates pending scoring","default":0},"overall_avg_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Overall Avg Score"},"overall_high_score_count":{"type":"integer","title":"Overall High Score Count","default":0},"strategy_stats":{"items":{"$ref":"#/components/schemas/StrategyStats"},"type":"array","title":"Strategy Stats"},"best_strategy_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Best Strategy Id","description":"ID of best performing strategy"},"strategy_ranking":{"items":{"type":"string"},"type":"array","title":"Strategy Ranking","description":"Strategy IDs sorted by effectiveness"},"recommended_next_action":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recommended Next Action","description":"Suggested action: 'paginate_core', 'paginate_wide', 'done', etc."},"recommended_strategy_for_more":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recommended Strategy For More","description":"Which strategy to paginate for 'Load More'"}},"type":"object","required":["project_id"],"title":"ProjectAnalytics","description":"Complete analytics for a sourcing project."},"RequirementItem":{"properties":{"id":{"type":"string","title":"Id"},"raw_text":{"type":"string","title":"Raw Text"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"importance":{"type":"string","enum":["MUST","NICE"],"title":"Importance"},"is_hard_constraint":{"type":"boolean","title":"Is Hard Constraint"},"normalized_keyword":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Normalized Keyword"},"normalized_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Normalized Level"},"experience_years_min":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Experience Years Min"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"}},"type":"object","required":["id","raw_text","importance","is_hard_constraint"],"title":"RequirementItem"},"Requirements":{"properties":{"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"},"keywords_must_include":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords Must Include"},"keywords_must_exclude":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Keywords Must Exclude"},"total_experience":{"anyOf":[{"$ref":"#/components/schemas/ExperienceRequirement"},{"type":"null"}]},"relevant_experience":{"anyOf":[{"$ref":"#/components/schemas/ExperienceRequirement"},{"type":"null"}]},"education":{"anyOf":[{"$ref":"#/components/schemas/EducationRequirement"},{"type":"null"}]},"required_languages":{"anyOf":[{"items":{"$ref":"#/components/schemas/LanguageRequirement"},"type":"array"},{"type":"null"}],"title":"Required Languages"},"work_authorization_note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Work Authorization Note"},"target_companies":{"anyOf":[{"items":{"$ref":"#/components/schemas/TargetEntity"},"type":"array"},{"type":"null"}],"title":"Target Companies"},"excluded_companies":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Excluded Companies"},"target_universities":{"anyOf":[{"items":{"$ref":"#/components/schemas/TargetEntity"},"type":"array"},{"type":"null"}],"title":"Target Universities"},"preferred_industries":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Preferred Industries"},"preferred_company_stages":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Preferred Company Stages"},"preferred_product_scale_buckets":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Preferred Product Scale Buckets"},"items":{"anyOf":[{"items":{"$ref":"#/components/schemas/RequirementItem"},"type":"array"},{"type":"null"}],"title":"Items"}},"type":"object","title":"Requirements"},"SGRReasoning":{"properties":{"market_understanding":{"type":"string","title":"Market Understanding","description":"2-4 paragraphs analyzing: location tier, role type, market size, competition level, skill rarity"},"criteria_analysis":{"type":"string","title":"Criteria Analysis","description":"2-4 paragraphs analyzing: which criteria are high/medium/low importance, what to use in search vs save for scoring"},"strategy_plan":{"type":"string","title":"Strategy Plan","description":"3-5 paragraphs explaining: how many strategies (4-10), what each strategy will do, why this mix, expected yields"},"boolean_approach":{"type":"string","title":"Boolean Approach","description":"2-3 paragraphs explaining: title variations, skill combinations, AND vs OR logic, exclusions"}},"type":"object","required":["market_understanding","criteria_analysis","strategy_plan","boolean_approach"],"title":"SGRReasoning","description":"Narrative reasoning block - forces LLM to THINK before generating strategies.\nEach field should contain detailed explanatory text, not short values."},"ScoringReasoning":{"properties":{"location_check":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location Check"},"title_check":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title Check"},"skills_check":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Skills Check"},"experience_check":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Experience Check"},"overall_analysis":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Overall Analysis"}},"type":"object","title":"ScoringReasoning"},"ScoringReasoningV2":{"properties":{"location_analysis":{"type":"string","title":"Location Analysis","description":"2-3 sentences analyzing location match"},"title_analysis":{"type":"string","title":"Title Analysis","description":"2-3 sentences analyzing title/role match"},"skills_analysis":{"type":"string","title":"Skills Analysis","description":"3-5 sentences analyzing skills match with importance consideration"},"experience_analysis":{"type":"string","title":"Experience Analysis","description":"2-3 sentences analyzing experience level"},"overall_assessment":{"type":"string","title":"Overall Assessment","description":"2-3 sentences with final verdict justification"}},"type":"object","required":["location_analysis","title_analysis","skills_analysis","experience_analysis","overall_assessment"],"title":"ScoringReasoningV2","description":"Detailed reasoning for each evaluation area."},"ScoringRequest":{"properties":{"job":{"$ref":"#/components/schemas/JobParsingResponse-Input"},"candidate":{"$ref":"#/components/schemas/CandidateProfile"},"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"}},"type":"object","required":["job","candidate"],"title":"ScoringRequest"},"ScoringRequestV2":{"properties":{"raw_text":{"type":"string","title":"Raw Text","description":"Original JD text + any additional context"},"parsed_with_criteria":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"string"}],"title":"Parsed With Criteria","description":"Criteria with user-set importance marks (Dict or JSON string)"},"candidate":{"additionalProperties":true,"type":"object","title":"Candidate","description":"Candidate profile to evaluate"},"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id","description":"Cross-cutting request ID"},"candidate_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Candidate Id","description":"Candidate identifier"}},"type":"object","required":["raw_text","parsed_with_criteria","candidate"],"title":"ScoringRequestV2","description":"Request for scoring a candidate.\n\nAccepts the same format as strategy generation:\n- raw_text: Original JD + comments\n- parsed_with_criteria: User-adjusted criteria with importance\n- candidate: Profile to score"},"ScoringResponse":{"properties":{"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"},"candidate_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Candidate Id"},"reasoning":{"$ref":"#/components/schemas/ScoringReasoning"},"verdict":{"type":"string","enum":["Perfect Match","Good Match","Potential Match","No Match","Unsure"],"title":"Verdict"},"match_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Match Score"},"primary_issue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Primary Issue"}},"type":"object","required":["reasoning","verdict","match_score"],"title":"ScoringResponse"},"ScoringResponseV2":{"properties":{"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"},"candidate_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Candidate Id"},"match_score":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Match Score","description":"Final score 0-100"},"verdict":{"type":"string","enum":["Perfect Match","Good Match","Potential Match","Weak Match","No Match"],"title":"Verdict"},"primary_issue":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Primary Issue","description":"Main blocker if any"},"total_penalty":{"type":"integer","title":"Total Penalty","description":"Sum of all penalties applied","default":0},"high_importance_missing":{"items":{"type":"string"},"type":"array","title":"High Importance Missing","description":"List of missing HIGH importance criteria"},"reasoning":{"$ref":"#/components/schemas/ScoringReasoningV2"},"criteria_scores":{"items":{"$ref":"#/components/schemas/CriterionScore"},"type":"array","title":"Criteria Scores"}},"type":"object","required":["match_score","verdict","reasoning"],"title":"ScoringResponseV2","description":"Complete scoring response with detailed reasoning."},"SourcingCriteria":{"properties":{"titles":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Titles","description":"Job titles"},"seniority":{"anyOf":[{"$ref":"#/components/schemas/CriteriaValue"},{"type":"null"}],"description":"Seniority level"},"family":{"anyOf":[{"$ref":"#/components/schemas/CriteriaValue"},{"type":"null"}],"description":"Job family"},"empl_type":{"anyOf":[{"$ref":"#/components/schemas/CriteriaValue"},{"type":"null"}],"description":"Employment type"},"locs":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Locs","description":"Locations (Remote, Hybrid, Cities)"},"inds":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Inds","description":"Industries"},"langs":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Langs","description":"Languages"},"hard":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Hard","description":"Hard skills"},"tools":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Tools","description":"Tools and technologies"},"soft":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Soft","description":"Soft skills"},"exp_yrs":{"anyOf":[{"$ref":"#/components/schemas/CriteriaValue"},{"type":"null"}],"description":"Minimum experience years"},"edu_lvl":{"anyOf":[{"$ref":"#/components/schemas/CriteriaValue"},{"type":"null"}],"description":"Education level"},"edu_fields":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Edu Fields","description":"Education fields"},"comp_target":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Comp Target","description":"Target companies"},"comp_excl":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Comp Excl","description":"Excluded companies"},"univ_target":{"anyOf":[{"items":{"$ref":"#/components/schemas/CriteriaValue"},"type":"array"},{"type":"null"}],"title":"Univ Target","description":"Target universities"}},"type":"object","title":"SourcingCriteria"},"SourcingStrategyItem":{"properties":{"id":{"type":"string","title":"Id","description":"Unique Strategy ID (e.g. proj_123_wide)"},"name":{"type":"string","title":"Name","description":"Strategy Name (e.g. Wide Market Search)"},"description":{"type":"string","title":"Description","description":"Description of the strategy logic"},"layer":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Layer","description":"Onion layer number (1=wide, 2=core, 3=quality, 4=competitor)"},"apify_payload":{"$ref":"#/components/schemas/ApifyPayload"}},"type":"object","required":["id","name","description","apify_payload"],"title":"SourcingStrategyItem","description":"Individual strategy configuration."},"SourcingStrategyResponse":{"properties":{"profileScraperMode":{"anyOf":[{"type":"string","enum":["Short","Full","Full + email search"]},{"type":"null"}],"title":"Profilescrapermode","description":"Short ($0.1/page), Full ($0.1/page + $0.004/profile), Full + email ($0.1/page + $0.01/profile)","default":"Full"},"searchQuery":{"anyOf":[{"type":"string","maxLength":300},{"type":"null"}],"title":"Searchquery","description":"Fuzzy search with operators: AND, OR, NOT, parentheses, quotes"},"maxItems":{"type":"integer","maximum":2500.0,"title":"Maxitems","description":"Max profiles to scrape (max 2500)","default":5},"locations":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Locations"},"currentCompanies":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Currentcompanies"},"pastCompanies":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Pastcompanies"},"schools":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Schools"},"currentJobTitles":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Currentjobtitles"},"pastJobTitles":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Pastjobtitles"},"firstNames":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Firstnames"},"lastNames":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Lastnames"},"yearsOfExperienceIds":{"anyOf":[{"items":{"type":"string","enum":["1","2","3","4","5"]},"type":"array"},{"type":"null"}],"title":"Yearsofexperienceids"},"yearsAtCurrentCompanyIds":{"anyOf":[{"items":{"type":"string","enum":["1","2","3","4","5"]},"type":"array"},{"type":"null"}],"title":"Yearsatcurrentcompanyids"},"seniorityLevelIds":{"anyOf":[{"items":{"type":"string","enum":["100","110","120","130","200","210","220","300","310","320"]},"type":"array"},{"type":"null"}],"title":"Senioritylevelids"},"functionIds":{"anyOf":[{"items":{"type":"string","enum":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26"]},"type":"array"},{"type":"null"}],"title":"Functionids"},"industryIds":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Industryids"},"profileLanguages":{"anyOf":[{"items":{"type":"string","enum":["Arabic","English","Spanish","Portuguese","Chinese","French","Italian","Russian","German","Dutch","Turkish","Tagalog","Polish","Korean","Japanese","Malay","Norwegian","Danish","Romanian","Swedish","Bahasa Indonesia","Czech"]},"type":"array"},{"type":"null"}],"title":"Profilelanguages"},"recentlyChangedJobs":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Recentlychangedjobs"},"startPage":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Startpage","default":1},"takePages":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Takepages"},"profileDeduplicationMode":{"anyOf":[{"type":"string","enum":["off","insert_ids","insert_profiles","read_only"]},{"type":"null"}],"title":"Profilededuplicationmode","default":"off"},"excludeLocations":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Excludelocations"},"excludeCurrentCompanies":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Excludecurrentcompanies"},"excludePastCompanies":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Excludepastcompanies"},"excludeSchools":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10},{"type":"null"}],"title":"Excludeschools"},"excludeCurrentJobTitles":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Excludecurrentjobtitles"},"excludePastJobTitles":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Excludepastjobtitles"},"excludeIndustryIds":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":20},{"type":"null"}],"title":"Excludeindustryids"},"excludeSeniorityLevelIds":{"anyOf":[{"items":{"type":"string","enum":["100","110","120","130","200","210","220","300","310","320"]},"type":"array"},{"type":"null"}],"title":"Excludesenioritylevelids"},"excludeFunctionIds":{"anyOf":[{"items":{"type":"string","enum":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26"]},"type":"array"},{"type":"null"}],"title":"Excludefunctionids"},"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id"}},"type":"object","title":"SourcingStrategyResponse","description":"V1 Response model for sourcing strategy.\nInherits from ApifyPayload to include all search parameters."},"StrategyExecutionRequest":{"properties":{"project_id":{"type":"string","title":"Project Id"},"strategies":{"items":{"$ref":"#/components/schemas/SourcingStrategyItem"},"type":"array","title":"Strategies"}},"type":"object","required":["project_id","strategies"],"title":"StrategyExecutionRequest"},"StrategyExecutionResponse":{"properties":{"task_id":{"type":"string","title":"Task Id"},"status":{"type":"string","title":"Status"},"strategies_launched":{"type":"integer","title":"Strategies Launched"}},"type":"object","required":["task_id","status","strategies_launched"],"title":"StrategyExecutionResponse"},"StrategyGenerationRequest":{"properties":{"raw_text":{"type":"string","title":"Raw Text","description":"Original JD text + any additional comments from previous iterations"},"parsed_with_criteria":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"string"}],"title":"Parsed With Criteria","description":"Final criteria from frontend (Dict or JSON string)"},"request_id":{"anyOf":[{"type":"string"},{"type":"integer"}],"title":"Request Id","description":"Cross-cutting request ID for tracing"}},"type":"object","required":["raw_text","parsed_with_criteria","request_id"],"title":"StrategyGenerationRequest","description":"Input for strategy generation endpoint.\nContains both raw context and parsed criteria for LLM to generate optimal strategies.\nSupports flexible input formats (stringified JSON) for robustness."},"StrategyGenerationResponse":{"properties":{"request_id":{"type":"string","title":"Request Id"},"reasoning":{"anyOf":[{"$ref":"#/components/schemas/SGRReasoning"},{"type":"null"}],"description":"LLM reasoning trace (SGR)"},"strategies":{"items":{"$ref":"#/components/schemas/SourcingStrategyItem"},"type":"array","title":"Strategies"}},"type":"object","required":["request_id","strategies"],"title":"StrategyGenerationResponse","description":"Response with SGR reasoning trace and executable strategies.\nThe reasoning block shows the LLM's thinking process (Schema-Guided Reasoning)."},"StrategyStats":{"properties":{"strategy_id":{"type":"string","title":"Strategy Id"},"strategy_name":{"type":"string","title":"Strategy Name"},"total_candidates":{"type":"integer","title":"Total Candidates","description":"Total candidates found by this strategy","default":0},"unique_candidates":{"type":"integer","title":"Unique Candidates","description":"Candidates found ONLY by this strategy","default":0},"overlap_candidates":{"type":"integer","title":"Overlap Candidates","description":"Candidates also found by other strategies","default":0},"avg_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Avg Score","description":"Average score of candidates (0-100)"},"high_score_count":{"type":"integer","title":"High Score Count","description":"Candidates with score >= 70","default":0},"perfect_match_count":{"type":"integer","title":"Perfect Match Count","description":"Candidates with score >= 90","default":0},"verdict_breakdown":{"additionalProperties":{"type":"integer"},"type":"object","title":"Verdict Breakdown","description":"Count by verdict: {'Perfect Match': 2, 'Good Match': 5, ...}"},"estimated_cost":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Estimated Cost","description":"Estimated Apify cost for this strategy"},"cost_per_good_candidate":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cost Per Good Candidate","description":"Cost / high_score_count"},"status":{"type":"string","enum":["completed","in_progress","failed","pending"],"title":"Status","default":"completed"},"current_page":{"type":"integer","title":"Current Page","description":"Current pagination page","default":1},"has_more_pages":{"type":"boolean","title":"Has More Pages","description":"Whether more results available","default":true}},"type":"object","required":["strategy_id","strategy_name"],"title":"StrategyStats","description":"Statistics for a single sourcing strategy."},"TargetEntity":{"properties":{"name":{"type":"string","title":"Name"},"importance":{"type":"string","enum":["MUST","NICE"],"title":"Importance"}},"type":"object","required":["name","importance"],"title":"TargetEntity"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}},"tags":[{"name":"parsing","description":"Step 1: Parse job descriptions into structured criteria"},{"name":"strategies","description":"Step 2: Generate and execute LinkedIn search strategies"},{"name":"scoring","description":"Step 3: Score and rank candidates"},{"name":"analytics","description":"Step 4: Compare strategy effectiveness and optimize"},{"name":"sourcing","description":"⚠️ V1 DEPRECATED — Use /api/v2/strategies instead"}]}